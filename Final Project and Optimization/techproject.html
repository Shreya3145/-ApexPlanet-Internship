<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechStore - Premium Electronics</title>
    <meta name="description" content="Premium electronics and gadgets at competitive prices">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" as="style">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Critical CSS inlined -->
    <style>
        /* Critical Above-the-fold CSS */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }
        
        .logo {
            font-size: 2rem;
            font-weight: bold;
            text-decoration: none;
            color: white;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        
        .nav-menu a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s ease;
        }
        
        .nav-menu a:hover {
            opacity: 0.8;
        }
        
        .cart-icon {
            position: relative;
            cursor: pointer;
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }
        
        .cart-icon:hover {
            transform: scale(1.1);
        }
        
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .hero {
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><rect fill="%23667eea" width="1200" height="600"/><circle fill="%23764ba2" cx="300" cy="150" r="100" opacity="0.3"/><circle fill="%23667eea" cx="900" cy="400" r="150" opacity="0.2"/></svg>');
            background-size: cover;
            background-position: center;
            height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
        }
        
        .hero-content h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            margin-bottom: 1rem;
            font-weight: 700;
        }
        
        .hero-content p {
            font-size: clamp(1.1rem, 2vw, 1.3rem);
            margin-bottom: 2rem;
            max-width: 600px;
        }
        
        .cta-button {
            background: linear-gradient(45deg, #ff4757, #ff6b7a);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255,71,87,0.3);
        }
    </style>
    
    <!-- Non-critical CSS loaded asynchronously -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"></noscript>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav-container">
            <a href="#" class="logo">
                <i class="fas fa-bolt"></i>
                TechStore
            </a>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#home">Home</a></li>
                <li><a href="#products">Products</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="nav-actions">
                <div class="cart-icon" id="cartIcon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" id="cartCount">0</span>
                </div>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>Premium Tech at Your Fingertips</h1>
            <p>Discover the latest gadgets and electronics with unbeatable prices and lightning-fast delivery</p>
            <a href="#products" class="cta-button">Shop Now</a>
        </div>
    </section>

    <!-- Products Section -->
    <section class="products-section" id="products">
        <div class="container">
            <h2 class="section-title">Featured Products</h2>
            
            <!-- Filter Controls -->
            <div class="filter-controls">
                <button class="filter-btn active" data-filter="all">All Products</button>
                <button class="filter-btn" data-filter="smartphones">Smartphones</button>
                <button class="filter-btn" data-filter="laptops">Laptops</button>
                <button class="filter-btn" data-filter="accessories">Accessories</button>
            </div>
            
            <!-- Search Bar -->
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search products..." class="search-input">
                <i class="fas fa-search search-icon"></i>
            </div>
            
            <!-- Products Grid -->
            <div class="products-grid" id="productsGrid">
                <!-- Products will be loaded dynamically -->
            </div>
            
            <!-- Load More Button -->
            <div class="load-more-container">
                <button class="load-more-btn" id="loadMoreBtn">Load More Products</button>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-section" id="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>Why Choose TechStore?</h2>
                    <p>We're passionate about bringing you the latest technology at competitive prices. With over 10 years of experience in the electronics industry, we've built strong relationships with manufacturers to offer you authentic products with comprehensive warranties.</p>
                    <div class="features-grid">
                        <div class="feature-card">
                            <i class="fas fa-shipping-fast"></i>
                            <h3>Fast Shipping</h3>
                            <p>Free delivery on orders over $50</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-shield-alt"></i>
                            <h3>Warranty</h3>
                            <p>2-year warranty on all products</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-headset"></i>
                            <h3>24/7 Support</h3>
                            <p>Round-the-clock customer service</p>
                        </div>
                    </div>
                </div>
                <div class="about-image">
                    <div class="image-placeholder">
                        <i class="fas fa-laptop" style="font-size: 4rem; color: #667eea;"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter-section">
        <div class="container">
            <div class="newsletter-content">
                <h2>Stay Updated</h2>
                <p>Get the latest deals and product announcements delivered to your inbox</p>
                <form class="newsletter-form" id="newsletterForm">
                    <input type="email" placeholder="Enter your email" required class="newsletter-input">
                    <button type="submit" class="newsletter-btn">Subscribe</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>TechStore</h3>
                    <p>Your trusted partner for premium electronics and exceptional service.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#products">Products</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Customer Service</h4>
                    <ul>
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Shipping Info</a></li>
                        <li><a href="#">Returns</a></li>
                        <li><a href="#">Track Order</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
                    <p><i class="fas fa-envelope"></i> support@techstore.com</p>
                    <p><i class="fas fa-map-marker-alt"></i> 123 Tech Street, Silicon Valley</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 TechStore. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Shopping Cart Modal -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-content">
            <div class="cart-header">
                <h2>Shopping Cart</h2>
                <button class="close-cart" id="closeCart">&times;</button>
            </div>
            <div class="cart-items" id="cartItems">
                <!-- Cart items will be populated here -->
            </div>
            <div class="cart-footer">
                <div class="cart-total">
                    <strong>Total: $<span id="cartTotal">0.00</span></strong>
                </div>
                <button class="checkout-btn" id="checkoutBtn">Proceed to Checkout</button>
            </div>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner">
        <div class="spinner"></div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <style>
        /* Main Styles */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #333;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 2px;
        }
        
        /* Products Section */
        .products-section {
            padding: 5rem 0;
            background: white;
        }
        
        .filter-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 0.7rem 1.5rem;
            border: 2px solid #667eea;
            background: transparent;
            color: #667eea;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }
        
        .search-container {
            position: relative;
            max-width: 400px;
            margin: 0 auto 3rem;
        }
        
        .search-input {
            width: 100%;
            padding: 1rem 3rem 1rem 1rem;
            border: 2px solid #e1e5e9;
            border-radius: 25px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .search-icon {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .product-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }
        
        .product-image {
            height: 200px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #667eea;
            position: relative;
            overflow: hidden;
        }
        
        .product-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff4757;
            color: white;
            padding: 0.3rem 0.7rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .product-info {
            padding: 1.5rem;
        }
        
        .product-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #333;
        }
        
        .product-description {
            color: #666;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .product-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 1rem;
        }
        
        .product-rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .stars {
            color: #ffd700;
        }
        
        .rating-text {
            color: #666;
            font-size: 0.9rem;
        }
        
        .add-to-cart-btn {
            width: 100%;
            padding: 0.8rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .add-to-cart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        .load-more-container {
            text-align: center;
        }
        
        .load-more-btn {
            padding: 1rem 2rem;
            background: transparent;
            color: #667eea;
            border: 2px solid #667eea;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        .load-more-btn:hover {
            background: #667eea;
            color: white;
        }
        
        /* About Section */
        .about-section {
            padding: 5rem 0;
            background: #f8f9fa;
        }
        
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }
        
        .about-text h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: #333;
        }
        
        .about-text p {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #666;
            margin-bottom: 2rem;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }
        
        .feature-card {
            text-align: center;
            padding: 1.5rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-card i {
            font-size: 2.5rem;
            color: #667eea;
            margin-bottom: 1rem;
        }
        
        .feature-card h3 {
            margin-bottom: 0.5rem;
            color: #333;
        }
        
        .feature-card p {
            color: #666;
            font-size: 0.9rem;
        }
        
        .about-image {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .image-placeholder {
            width: 300px;
            height: 300px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }
        
        /* Newsletter Section */
        .newsletter-section {
            padding: 4rem 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }
        
        .newsletter-content h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        
        .newsletter-content p {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        .newsletter-form {
            display: flex;
            max-width: 500px;
            margin: 0 auto;
            gap: 1rem;
        }
        
        .newsletter-input {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
        }
        
        .newsletter-btn {
            padding: 1rem 2rem;
            background: #ff4757;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.3s ease;
        }
        
        .newsletter-btn:hover {
            transform: translateY(-2px);
        }
        
        /* Footer */
        .footer {
            background: #2c3e50;
            color: white;
            padding: 3rem 0 1rem;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .footer-section h3,
        .footer-section h4 {
            margin-bottom: 1rem;
            color: #ecf0f1;
        }
        
        .footer-section p {
            margin-bottom: 0.5rem;
            opacity: 0.8;
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section ul li {
            margin-bottom: 0.5rem;
        }
        
        .footer-section ul li a {
            color: white;
            text-decoration: none;
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }
        
        .footer-section ul li a:hover {
            opacity: 1;
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .social-links a {
            color: white;
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }
        
        .social-links a:hover {
            transform: translateY(-3px);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid #34495e;
            opacity: 0.8;
        }
        
        /* Cart Modal */
        .cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            animation: fadeIn 0.3s ease;
        }
        
        .cart-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 1px solid #eee;
        }
        
        .close-cart {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #666;
        }
        
        .cart-items {
            max-height: 400px;
            overflow-y: auto;
            padding: 1rem;
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #eee;
        }
        
        .cart-item-info {
            flex: 1;
        }
        
        .cart-item-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .cart-item-price {
            color: #667eea;
            font-weight: bold;
        }
        
        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .quantity-btn {
            width: 30px;
            height: 30px;
            border: 1px solid #ddd;
            background: white;
            cursor: pointer;
            border-radius: 4px;
        }
        
        .remove-item {
            color: #ff4757;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        .cart-footer {
            padding: 1.5rem;
            border-top: 1px solid #eee;
            text-align: center;
        }
        
        .cart-total {
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }
        
        .checkout-btn {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .checkout-btn:hover {
            transform: translateY(-2px);
        }
        
        /* Loading Spinner */
        .loading-spinner {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.8);
            z-index: 3000;
            justify-content: center;
            align-items: center;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 100px;
            right: 20px;
            z-index: 4000;
        }
        
        .toast {
            background: #4caf50;
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            animation: slideIn 0.3s ease;
            max-width: 300px;
        }
        
        .toast.error {
            background: #ff4757;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                flex-direction: column;
                padding: 1rem;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            }
            
            .nav-menu.active {
                display: flex;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .hero-content h1 {
                font-size: 2.5rem;
            }
            
            .about-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .newsletter-form {
                flex-direction: column;
            }
            
            .filter-controls {
                justify-content: center;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 1rem;
            }
            
            .cart-content {
                width: 95%;
                margin: 1rem;
            }
            
            .nav-container {
                padding: 0 1rem;
            }
            
            .container {
                padding: 0 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .hero {
                height: 60vh;
            }
            
            .hero-content h1 {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .about-text h2 {
                font-size: 2rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Utility Classes */
        .hidden {
            display: none !important;
        }
        
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease;
        }
        
        .pulse {
            animation: pulse 0.5s ease;
        }
        
        /* Performance Optimizations */
        .product-card {
            will-change: transform;
        }
        
        .cta-button,
        .add-to-cart-btn {
            will-change: transform;
        }
        
        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        button:focus,
        input:focus,
        a:focus {
            outline: 2px solid #667eea;
            outline-offset: 2px;
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .product-card {
                border: 2px solid #000;
            }
            
            .cta-button,
            .add-to-cart-btn {
                border: 2px solid #000;
            }
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>

    <script>
        // App State Management
        class AppState {
            constructor() {
                this.products = [];
                this.cart = [];
                this.currentFilter = 'all';
                this.searchQuery = '';
                this.displayedProducts = 6;
                this.isLoading = false;
            }
            
            // Cart Management
            addToCart(productId) {
                const product = this.products.find(p => p.id === productId);
                if (!product) return;
                
                const existingItem = this.cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    this.cart.push({ ...product, quantity: 1 });
                }
                
                this.updateCartDisplay();
                this.showToast(`${product.name} added to cart!`);
            }
            
            removeFromCart(productId) {
                this.cart = this.cart.filter(item => item.id !== productId);
                this.updateCartDisplay();
                this.showToast('Item removed from cart', 'error');
            }
            
            updateQuantity(productId, newQuantity) {
                if (newQuantity <= 0) {
                    this.removeFromCart(productId);
                    return;
                }
                
                const item = this.cart.find(item => item.id === productId);
                if (item) {
                    item.quantity = newQuantity;
                    this.updateCartDisplay();
                }
            }
            
            updateCartDisplay() {
                const cartCount = document.getElementById('cartCount');
                const cartItems = document.getElementById('cartItems');
                const cartTotal = document.getElementById('cartTotal');
                
                const totalItems = this.cart.reduce((sum, item) => sum + item.quantity, 0);
                const totalPrice = this.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                
                cartCount.textContent = totalItems;
                cartTotal.textContent = totalPrice.toFixed(2);
                
                cartItems.innerHTML = this.cart.length === 0 
                    ? '<p style="text-align: center; padding: 2rem; color: #666;">Your cart is empty</p>'
                    : this.cart.map(item => `
                        <div class="cart-item">
                            <div class="cart-item-info">
                                <div class="cart-item-title">${item.name}</div>
                                <div class="cart-item-price">${item.price}</div>
                            </div>
                            <div class="cart-item-controls">
                                <div class="quantity-controls">
                                    <button class="quantity-btn" onclick="app.updateQuantity(${item.id}, ${item.quantity - 1})">-</button>
                                    <span>${item.quantity}</span>
                                    <button class="quantity-btn" onclick="app.updateQuantity(${item.id}, ${item.quantity + 1})">+</button>
                                </div>
                                <button class="remove-item" onclick="app.removeFromCart(${item.id})">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    `).join('');
            }
            
            // Product Management
            setProducts(products) {
                this.products = products;
                this.renderProducts();
            }
            
            filterProducts() {
                let filtered = this.products;
                
                if (this.currentFilter !== 'all') {
                    filtered = filtered.filter(product => product.category === this.currentFilter);
                }
                
                if (this.searchQuery) {
                    const query = this.searchQuery.toLowerCase();
                    filtered = filtered.filter(product => 
                        product.name.toLowerCase().includes(query) ||
                        product.description.toLowerCase().includes(query)
                    );
                }
                
                return filtered;
            }
            
            renderProducts() {
                const grid = document.getElementById('productsGrid');
                const filtered = this.filterProducts();
                const displayed = filtered.slice(0, this.displayedProducts);
                
                grid.innerHTML = displayed.map(product => `
                    <div class="product-card fade-in" data-category="${product.category}">
                        <div class="product-image">
                            <i class="${product.icon}"></i>
                            ${product.badge ? `<div class="product-badge">${product.badge}</div>` : ''}
                        </div>
                        <div class="product-info">
                            <h3 class="product-title">${product.name}</h3>
                            <p class="product-description">${product.description}</p>
                            <div class="product-rating">
                                <div class="stars">
                                    ${'★'.repeat(Math.floor(product.rating))}${'☆'.repeat(5 - Math.floor(product.rating))}
                                </div>
                                <span class="rating-text">(${product.reviews} reviews)</span>
                            </div>
                            <div class="product-price">${product.price}</div>
                            <button class="add-to-cart-btn" onclick="app.addToCart(${product.id})">
                                <i class="fas fa-cart-plus"></i> Add to Cart
                            </button>
                        </div>
                    </div>
                `).join('');
                
                // Update load more button
                const loadMoreBtn = document.getElementById('loadMoreBtn');
                loadMoreBtn.style.display = displayed.length < filtered.length ? 'block' : 'none';
            }
            
            loadMoreProducts() {
                this.displayedProducts += 6;
                this.renderProducts();
            }
            
            // Utility Methods
            showToast(message, type = 'success') {
                const container = document.getElementById('toastContainer');
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.innerHTML = `
                    <i class="fas fa-${type === 'success' ? 'check' : 'exclamation'}-circle"></i>
                    ${message}
                `;
                
                container.appendChild(toast);
                
                setTimeout(() => {
                    toast.remove();
                }, 3000);
            }
            
            showLoading() {
                document.getElementById('loadingSpinner').style.display = 'flex';
            }
            
            hideLoading() {
                document.getElementById('loadingSpinner').style.display = 'none';
            }
        }
        
        // Initialize App
        const app = new AppState();
        
        // Sample Product Data
        const sampleProducts = [
            {
                id: 1,
                name: "iPhone 15 Pro",
                description: "Latest flagship smartphone with titanium design and A17 Pro chip",
                price: 999,
                category: "smartphones",
                icon: "fas fa-mobile-alt",
                rating: 4.8,
                reviews: 1247,
                badge: "New"
            },
            {
                id: 2,
                name: "MacBook Pro 16\"",
                description: "Powerful laptop with M3 Pro chip for professional workflows",
                price: 2499,
                category: "laptops",
                icon: "fas fa-laptop",
                rating: 4.9,
                reviews: 856,
                badge: "Popular"
            },
            {
                id: 3,
                name: "AirPods Pro 3",
                description: "Premium wireless earbuds with active noise cancellation",
                price: 249,
                category: "accessories",
                icon: "fas fa-headphones",
                rating: 4.7,
                reviews: 2103,
                badge: "Sale"
            },
            {
                id: 4,
                name: "Samsung Galaxy S24 Ultra",
                description: "Android flagship with S Pen and advanced camera system",
                price: 1199,
                category: "smartphones",
                icon: "fas fa-mobile-alt",
                rating: 4.6,
                reviews: 934,
                badge: null
            },
            {
                id: 5,
                name: "Dell XPS 13",
                description: "Ultra-portable laptop with stunning InfinityEdge display",
                price: 1299,
                category: "laptops",
                icon: "fas fa-laptop",
                rating: 4.5,
                reviews: 567,
                badge: null
            },
            {
                id: 6,
                name: "Apple Watch Series 9",
                description: "Advanced smartwatch with health monitoring features",
                price: 399,
                category: "accessories",
                icon: "fas fa-clock",
                rating: 4.8,
                reviews: 1678,
                badge: "New"
            },
            {
                id: 7,
                name: "Google Pixel 8 Pro",
                description: "AI-powered camera and pure Android experience",
                price: 899,
                category: "smartphones",
                icon: "fas fa-mobile-alt",
                rating: 4.4,
                reviews: 723,
                badge: null
            },
            {
                id: 8,
                name: "Surface Laptop 5",
                description: "Premium Windows laptop with touchscreen display",
                price: 1699,
                category: "laptops",
                icon: "fas fa-laptop",
                rating: 4.3,
                reviews: 445,
                badge: null
            },
            {
                id: 9,
                name: "Sony WH-1000XM5",
                description: "Industry-leading noise canceling wireless headphones",
                price: 399,
                category: "accessories",
                icon: "fas fa-headphones",
                rating: 4.9,
                reviews: 1534,
                badge: "Top Rated"
            }
        ];
        
        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize products
            app.setProducts(sampleProducts);
            
            // Mobile menu toggle
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const navMenu = document.getElementById('navMenu');
            
            mobileMenuBtn.addEventListener('click', function() {
                navMenu.classList.toggle('active');
            });
            
            // Filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    app.currentFilter = this.dataset.filter;
                    app.displayedProducts = 6;
                    app.renderProducts();
                });
            });
            
            // Search functionality
            const searchInput = document.getElementById('searchInput');
            let searchTimeout;
            
            searchInput.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    app.searchQuery = this.value;
                    app.displayedProducts = 6;
                    app.renderProducts();
                }, 300);
            });
            
            // Load more products
            document.getElementById('loadMoreBtn').addEventListener('click', function() {
                app.showLoading();
                setTimeout(() => {
                    app.loadMoreProducts();
                    app.hideLoading();
                }, 500); // Simulate loading delay
            });
            
            // Cart modal
            const cartIcon = document.getElementById('cartIcon');
            const cartModal = document.getElementById('cartModal');
            const closeCart = document.getElementById('closeCart');
            
            cartIcon.addEventListener('click', function() {
                cartModal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            });
            
            closeCart.addEventListener('click', function() {
                cartModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            });
            
            cartModal.addEventListener('click', function(e) {
                if (e.target === cartModal) {
                    cartModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Checkout button
            document.getElementById('checkoutBtn').addEventListener('click', function() {
                if (app.cart.length === 0) {
                    app.showToast('Your cart is empty!', 'error');
                    return;
                }
                
                app.showLoading();
                setTimeout(() => {
                    app.hideLoading();
                    app.showToast('Checkout functionality would be implemented here!');
                    cartModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }, 1500);
            });
            
            // Newsletter form
            document.getElementById('newsletterForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const email = this.querySelector('input[type="email"]').value;
                
                app.showLoading();
                setTimeout(() => {
                    app.hideLoading();
                    app.showToast('Thank you for subscribing!');
                    this.reset();
                }, 1000);
            });
            
            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // Intersection Observer for animations
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animation = 'fadeIn 0.6s ease forwards';
                    }
                });
            }, observerOptions);
            
            // Observe sections for scroll animations
            document.querySelectorAll('.about-section, .newsletter-section').forEach(section => {
                observer.observe(section);
            });
            
            // Performance: Lazy load images when implemented
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            if (img.dataset.src) {
                                img.src = img.dataset.src;
                                img.classList.remove('lazy');
                                imageObserver.unobserve(img);
                            }
                        }
                    });
                });
                
                document.querySelectorAll('img[data-src]').forEach(img => {
                    imageObserver.observe(img);
                });
            }
            
            // Service Worker registration for PWA capabilities
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            }
            
            // Error handling for network requests
            window.addEventListener('online', () => {
                app.showToast('Connection restored!');
            });
            
            window.addEventListener('offline', () => {
                app.showToast('You are now offline', 'error');
            });
        });
        
        // Performance monitoring
        window.addEventListener('load', function() {
            // Log performance metrics
            if (window.performance) {
                const perfData = window.performance.timing;
                const loadTime = perfData.loadEventEnd - perfData.navigationStart;
                console.log(`Page load time: ${loadTime}ms`);
                
                // Report to analytics (would be real analytics in production)
                if (loadTime > 3000) {
                    console.warn('Page load time is slow:', loadTime + 'ms');
                }
            }
        });
        
        // Debounce utility for performance
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
        
        // Throttle utility for scroll events
        function throttle(func, limit) {
            let inThrottle;
            return function() {
                const args = arguments;
                const context = this;
                if (!inThrottle) {
                    func.apply(context, args);
                    inThrottle = true;
                    setTimeout(() => inThrottle = false, limit);
                }
            }
        }
        
        // Keyboard navigation support
        document.addEventListener('keydown', function(e) {
            // ESC key to close modal
            if (e.key === 'Escape') {
                const cartModal = document.getElementById('cartModal');
                if (cartModal.style.display === 'block') {
                    cartModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            }
        });
    </script>
</body>
</html>